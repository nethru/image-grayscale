/*!
 * Image Grayscale v1.0.0
 * Apply gray-scale effect to the images
 * Copyright 2013-2014 Nethru
 * Licensed under MIT (http://nethru.mit-license.org/)
 */
(function(a){a.fn.imggrayscale=function(b){var f={svgTemplate:'<svg width="%w" height="%h" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><filter id="grayscale"><feColorMatrix type="saturate" values="0" /></filter></defs><image x="0" y="0" width="%w" height="%h" xlink:href="%s" filter="url(#grayscale)"></image></svg>',hoverShowOrigin:false,hoverTransitionDuration:1,onResize:null},i=Array.prototype.slice,j=/%w/g,g=/%h/g,c=/%s/g,e=function(){var o=["msTouchAction","msWrapFlow"];
var r=["msTextCombineHorizontal"];var q=document;var k=q.body;var m=k.style;var p=null;var n;for(var l=0;l<o.length;l++){n=o[l];if(m[n]!=undefined){p="ie10";
}}for(var l=0;l<r.length;l++){n=r[l];if(m[n]!=undefined){p="ie11";}}return p!=null;},h=function(l){var o=a(l).data("imggrayscale"),n=o.svgTemplate,m=l.width+"px",q=l.height+"px",p=l.src;
var k=a(n.replace(j,m).replace(g,q).replace(c,p));a(l).replaceWith(k);},d={init:function(k){var l=a.extend({},f,k);return this.each(function(){var n=a(this),m={};
if(l.onResize){n.on("resize.imggrayscale",l.onResize);}m=a.extend({},l);n.data("imggrayscale",m);if(!n.hasClass("imggrayscale")){n.addClass("imggrayscale");
if(m.hoverShowOrigin){n.css({"-webkit-transition":"-webkit-all "+m.hoverTransitionDuration+"s ease-out","-moz-transition":"-moz-all "+m.hoverTransitionDuration+"s ease-out","-ms-transition":"-ms-all "+m.hoverTransitionDuration+"s ease-out","-o-transition":"-o-all "+m.hoverTransitionDuration+"s ease-out",transition:"all "+m.hoverTransitionDuration+"s ease-out"}).hover(function(){a(this).stop().addClass("hover");
},function(){a(this).stop().removeClass("hover");});}}if(e()){n.one("load",function(){var o=a(this);o.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: inline-block'>").clone(true).addClass("img_grayscale ieImage").css({position:"absolute","z-index":"5",opacity:"0"}).insertBefore(o).queue(function(){var r=a(this);
var q=this.width;var p=this.height;r.parent().css({width:q,height:p});if(m.hoverShowOrigin){r.hover(function(){a(this).parent().find("img:first").stop().animate({opacity:1},m.hoverTransitionDuration);
},function(){a(".img_grayscale").stop().animate({opacity:0},m.hoverTransitionDuration);});}r.dequeue();h(o[0]);});}).each(function(){if(this.complete){a(this).load();
}});}});},resize:function(){return this.each(function(){var o=a(this),n=o.data("imggrayscale");if(!n){return true;}if(e()){var m=a(this);var l=this.width;
var k=this.height;m.parent().css({width:l,height:k});}o.data("imggrayscale",n).trigger("resize.imggrayscale",[n]);});},destroy:function(){return this.each(function(){var m=a(this),k=m.data("imggrayscale");
if(!k){return true;}if(e()){var l=m.parent();m=m.clone(true).removeClass("img_grayscale ieImage").css({position:"","z-index":"",opacity:""}).insertBefore(l);
l.remove();}m.off(".imggrayscale").removeData("imggrayscale").removeClass("imggrayscale");});}};if(d[b]){return d[b].apply(this,i.call(arguments,1));}else{if(typeof b==="object"||!b){return d.init.apply(this,arguments);
}else{a.error("Method "+b+" does not exist");}}};})(jQuery);